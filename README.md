# ФИТ НГУ 5 семестр (3 курс) 2023/2024 учебный год
## Лабораторные работы по сетям и телекоммуникациям
В данном репозитории содержатся все лабораторные работы, написанные по данному курсу. Нумерация соовпадает с лекторской:

1. (first) - обнаружение копий себя в локальной сети
2. (second) - передача файлов по TCP с подсчётом скорости
3. (third) - места (асинхронное сетевое взаимодействие)
4. (fourth) - змейка по сети
5. (fifth) - SOCKS-прокси

Подробнее о технологиях ниже:
## Обнаружение копий себя в локальной сети
### Язык программирования
Golang v 1.21

### Используемые библиотеки
- ***fyne.io*** - самый популярный кроссплатформенный GUI фреймворк для golang, выполненный в дизайне material, использовался для ввода пользовательских данных и отображения списка копий программы.
- ***golang.org/x/net*** - расширенная библиотека для работы с сетью, упрощает взаимодействие с сетью (в частности с multicast).

### Способ запуска
Считается, что пользователь уже находится в директории `first`:

1. `go run .` - для быстрого запуска приложения.
2. Для получения исполняемого файла:
    - `mkdir build` - создать папку build в текущей директории.
    - `go build -o build/copy-finder` - собрать проект в исполняемый файл с названием `copy-finder` в директории `build`.
    - `build/copy-finder` - запустить исполняемый файл

### Использование
После запуска приложения перед пользователем появится основной интерфейс приложения, адаптированный под текущую цветовую схему операционной системы.
Главный экран состоит из 4-х секций:

1. Ввод прозвища/псевдонима пользователя (nickname) - может быть пустым.
2. IPv4 адрес, на котором программа хочет обнаруживать свои копии. Так как первые 3 числа адреса строго фиксированы в соответствии с условием задачи (обнаружение копий в *локальной сети*), пользователю для выбора доступно только 254 возможные сети для обнаружения копий, определяемые как раз последним числом (0 и 255 - зарезервированы). В случае ввода правильных значений кнопка "Watch IP4" станет доступной.
3. IPv6 адрес, на котором программа хочет обнаруживать свои копии. По аналогии с IPv4, доступен сильно ограниченый диапазон адресов. При вводе корректных значений для последних двух полей адреса, кнопка "Watch IP16" станет доступна.
4. Три кнопки: настройки ("settings"), "Watch IP4" и "Watch IP16".

В настройках доступен выбор размера шрифта, акцентного цветa приложения, включение и выключение анимации виджетов, и выбор темной или светлой темы.

Если пользователь указал корректные данные, то после нажатия доступной кнопки, пользователя перебросит на экран со списком текущих копий в этой сети. Пользователь так же будет видеть сам себя в списке и свой IP-адрес. Раз в 3 секунды приложение отправляет сообщение на указанный multicast-адрес ***(стоит удостовериться, что и firewall, и сама сеть разрешают multicast-пакеты в данной сети и на данном интерфейсе)***. Также приложение слушает все пакеты на этом же multicast-адресе. Если новых сообщений от копии не поступало на протяжении 10 секунд, то копия считается потерянной, и она пропадает из списка.

## Передача файла по TCP с подсчетом скорости
### Язык программирования
Java (JDK 17)
### Используемые библиотеки
- ***Google Guava*** - набор контейнеров и утилит, упрощающий разработку отдельных компонентов (в данном случае использовалась утилита конвертации чисел в их байтовое представление для передачи по сети)

### Способ запуска
Считается, что пользователь уже находится в директории `second`:
1. В зависимости от того, что нужно пользователю - клиент или сервер, нужно зайти в соответствующую директорию:
    - `cd Server` для сервера, либо
    - `cd Client` для клиента
2. `./gradlew jar` - создание `jar`-архива с приложением
3. `cd app/build/libs` - переход в директорию с собранным `jar`-архивом
4. `java -jar app.jar` - запуск приложения

### Использование
И сервер, и клиент представляют собой консольные приложения.
#### Сервер
После запуска сервера перед пользователем появится информация о разработчике в 4-х строчках. Пользователю потребуется ввести порт, на котором сервер будет слушать входящие соединения. Когда порт будет введен, сервер начнет слушать входящие соединения, выводя каждые 3 секунды информацию о текущей скорости скачивания. Скачанные файлы будут появляться в той же директории, из которой был загружен сервер.
#### Клиент
После запуска клиент попросит указать путь до файла, который будет отправлен на сервер по TCP. После этого, сервер попросит адрес сервера **без указания порта**. После ввода адреса, клиент попросит указать порт, на котором сервер слушает входящие соединения. После указания порта начнется передача файла на сервер.
## Места (асинхронное взаимодействие)
### Язык программирования
Golang v 1.21
### Используемые библиотеки

- ***[websocket](github.com/gorilla/websocket)*** - библиотека для работы с websocket в go
- ***golang.org/x/crypto*** - библиотека для быстрого подключения TLS.

### Способ запуска
Предполагается, что пользователь находится в директории `third`.

Зайдем в директорию с проектом:

`cd places`

Для запуска приложения нужно сначала получить *API-ключи* следующих сервисов:

- [graphhopper](graphhopper.com)
- [openweathermap](openweathermap.org)
- [opentripmap](opentripmap.com)

После получения ключей нужно открыть файл `main.go` и отредактировать там переменные `gKey` (graphhopperKey), `wKey` (weatherKey), `tKey` (tripKey), то есть вставить туда свои ключи (в идеале ключи должны задаваться другим путем).
Если пользователь хочет подключить сертификат для работы *https*, то пользователю надо раскомментировать строки, помеченные в исходниках. Так же потребуется исправить файл `site/common/backend_web_socket.ts`.

После этих действий, пользователь должен скомпилировать TypeScript в JavaScript:

1. `cd site`
2. `ts .`

Так же нужно перевести SCSS файлы в CSS:

1. `cd site`
2. `npx node-sass .`

После этих действий можно запускать сервер:

`go run .`

После скачивания зависимостей и сборки проекта, сервер без сообщений о запуске начнет слушать входящие сообщения. Для того, чтобы получить доступ к приложению, нужно в браузере сделать запрос на сервер. По умолчанию это `http://localhost:6969` (в случае HTTPS стоит не забыть про смену порта и доменного имени). Во время загрузки сайта в консоль сервера выведутся запрошенные браузером сайты.

Сервер на Golang выступает не только как сервис асинхронных запросов, но и как веб-сервер.
### Использование
После загрузки страницы перед пользователем появится поле для ввода места, которое ему интересно. Снизу будет отображаться список мест с совпавшим названием. Еще ниже можно обнаружить интерактивную 3D карту, ***которая может не отображаться, если ваш браузер не поддерживает библиотеку mapgl (например, mapgl не поддерживается браузером LibreWolf)***.

После ввода интересного места, с сайта отправится соответствующий запрос на backend, который асинхронно выполняет запросы в сервисы. В результате после поиска у пользователя появится список совпадающих по названию мест. Пользователь должен выбрать интересующее его место. После выбора места, интерактивная карта отметит выбранное пользователем место и отметит все интересные места вокруге, чуть ниже карты расположится погода в выбранном месте, а еще ниже можно обнаружить список интересных мест поблизости. Если выбрать элемент из этого списка, то можно увидеть подробную информацию об этом месте, а также связанную с этим местом фотографию.

## Змейка по сети
## SOCKS-proxy
